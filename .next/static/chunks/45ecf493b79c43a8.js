(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42009,e=>{"use strict";let t=(0,e.i(75254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>t],42009)},78928,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(4427),l=e.i(97815),r=e.i(18566),d=e.i(22016),o=e.i(70756);let i=(0,e.i(75254).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);var n=e.i(43531),c=e.i(42009);function m(){let{user:e,loading:m}=(0,l.useAuth)(),h=(0,r.useRouter)(),[u,f]=(0,s.useState)([]),[b,w]=(0,s.useState)([]),[p,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{m||e||h.push("/login"),e&&j()},[e,m,h]);let j=async()=>{try{let[e,t]=await Promise.all([a.default.get("/chapters"),a.default.get("/progress")]),s=e.data.sort((e,t)=>e.orderNumber-t.orderNumber);f(s),w(t.data),g(!1)}catch(e){console.error(e),g(!1)}},v=async()=>{try{await a.default.post("/certificates/generate"),alert("Certyfikat wygenerowany! Rozpoczynanie pobierania...");let e=await a.default.get("/certificates/download",{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=t,s.setAttribute("download","Certyfikat_BeeHouses.pdf"),document.body.appendChild(s),s.click(),s.parentNode?.removeChild(s),window.URL.revokeObjectURL(t)}catch(e){console.error(e),alert("Bd pobierania certyfikatu")}};if(m||p||!e)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-stone-50",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})});let N=u.filter(e=>{let t=b.find(t=>t.chapterId===e.id);return t?.completed}).length,y=u.length,k=y>0?N/y*100:0;return(0,t.jsxs)("div",{className:"min-h-screen bg-stone-50 pb-20 pt-20",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-emerald-600 via-emerald-700 to-amber-600 text-white pt-24 pb-32 px-6 rounded-b-[4rem] shadow-2xl relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-yellow-300 opacity-10 rounded-full -mr-20 -mt-20 blur-3xl animate-pulse-slow"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-emerald-400 opacity-10 rounded-full -ml-10 -mb-10 blur-3xl"}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center relative z-10",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[(0,t.jsx)("div",{className:"mb-8 bg-white p-6 rounded-3xl shadow-xl animate-scale-in",children:(0,t.jsx)("img",{src:"/logo.png",alt:"BeeHouses Logo",className:"h-20 w-auto object-contain"})}),(0,t.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold mb-4 animate-fade-in-up drop-shadow-md tracking-tight text-white",children:["Cze, ",e.firstName,"! "]}),(0,t.jsxs)("p",{className:"text-emerald-50 text-xl md:text-2xl max-w-2xl animate-fade-in-up delay-100 font-light leading-relaxed",children:["Witaj w ",(0,t.jsx)("span",{className:"font-semibold text-yellow-300",children:"BeeHouses"}),". Twoja pasieka czeka na rozw贸j."]})]}),(0,t.jsxs)("div",{className:"mt-12 md:mt-0 flex items-center bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl animate-scale-in hover:bg-white/15 transition-all transform hover:scale-105",children:[(0,t.jsxs)("div",{className:"relative w-32 h-32 flex-shrink-0",children:[(0,t.jsxs)("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-xl",children:[(0,t.jsx)("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-black/10"}),(0,t.jsx)("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:364,strokeDashoffset:364-364*k/100,strokeLinecap:"round",className:"text-yellow-400 transition-all duration-1000 ease-out"})]}),(0,t.jsxs)("span",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font-bold text-3xl drop-shadow-sm text-white",children:[Math.round(k),"%"]})]}),(0,t.jsxs)("div",{className:"ml-8 mr-2 text-left",children:[(0,t.jsx)("div",{className:"text-sm text-emerald-100 uppercase tracking-widest font-bold mb-2",children:"Tw贸j Postp"}),(0,t.jsxs)("div",{className:"text-3xl font-bold tracking-tight text-white",children:[N," ",(0,t.jsxs)("span",{className:"text-emerald-200 text-xl font-medium",children:["/ ",y]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 -mt-16 relative z-20",children:[y>0&&N===y&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-yellow-100 to-amber-100 border border-amber-200 rounded-2xl p-6 mb-10 flex flex-col md:flex-row items-center justify-between shadow-lg animate-bounce-slow",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[(0,t.jsx)("div",{className:"bg-amber-500 text-white p-3 rounded-full shadow-lg",children:(0,t.jsx)(c.Award,{className:"h-8 w-8"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-amber-900",children:"Gratulacje! Ukoczye kurs! "}),(0,t.jsx)("p",{className:"text-amber-700",children:"Tw贸j imienny certyfikat jest gotowy."})]})]}),(0,t.jsxs)("button",{onClick:v,className:"bg-amber-600 hover:bg-amber-700 text-white px-8 py-3 rounded-xl font-bold shadow-md hover:shadow-xl transition-all transform hover:-translate-y-1 flex items-center",children:[(0,t.jsx)(c.Award,{className:"mr-2 h-5 w-5"}),"Pobierz Certyfikat"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((e,s)=>{let a=((e,t)=>{let s=b.find(t=>t.chapterId===e.id);if(s?.completed)return"completed";if(0===t)return"active";let a=u[t-1],l=b.find(e=>e.chapterId===a.id);return l?.completed?"active":"locked"})(e,s),l="locked"===a,r="completed"===a,c="active"===a;return(0,t.jsxs)("div",{className:`
                                    group relative bg-white rounded-3xl overflow-hidden transition-all duration-300
                                    ${l?"opacity-70 grayscale-[0.5]":"hover:shadow-2xl hover:-translate-y-2 cursor-pointer"}
                                    ${c?"ring-4 ring-emerald-400/30":""}
                                    shadow-sm border border-stone-100
                                `,children:[(0,t.jsxs)("div",{className:"absolute top-6 right-6 z-10",children:[r&&(0,t.jsx)("div",{className:"bg-green-100 text-green-700 p-2 rounded-full shadow-sm",children:(0,t.jsx)(n.Check,{className:"h-5 w-5"})}),l&&(0,t.jsx)("div",{className:"bg-stone-100 text-stone-500 p-2 rounded-full shadow-sm",children:(0,t.jsx)(o.Lock,{className:"h-5 w-5"})}),c&&(0,t.jsx)("div",{className:"bg-emerald-100 text-emerald-600 p-2 rounded-full shadow-sm animate-pulse",children:(0,t.jsx)(i,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"p-8 h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"text-xs font-bold tracking-widest uppercase text-stone-400 mb-3",children:["Rozdzia ",e.orderNumber]}),(0,t.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-4 group-hover:text-emerald-700 transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-slate-500 text-sm leading-relaxed mb-8 flex-grow",children:e.description}),(0,t.jsx)("div",{className:"mt-auto",children:l?(0,t.jsxs)("div",{className:"w-full py-4 bg-stone-100 text-stone-400 rounded-2xl text-center font-bold flex items-center justify-center",children:[(0,t.jsx)(o.Lock,{className:"w-4 h-4 mr-2"}),"Zablokowane"]}):(0,t.jsxs)(d.default,{href:`/chapter/${e.id}`,className:`
                                                    w-full py-4 rounded-2xl font-bold text-lg text-center flex items-center justify-center transition-all
                                                    ${r?"bg-emerald-50 text-emerald-700 hover:bg-emerald-100 border border-emerald-200":"bg-slate-900 text-white hover:bg-emerald-600 shadow-xl"}
                                                `,children:[r?"Powt贸rz Lekcj":"Rozpocznij Nauk",!r&&(0,t.jsx)(x,{className:"w-5 h-5 ml-2"})]})})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1.5 bg-stone-50",children:(0,t.jsx)("div",{className:`h-full ${r?"bg-green-500 w-full":c?"bg-emerald-500 w-1/3":"w-0"}`})})]},e.id)})})]})]})}function x(e){return(0,t.jsxs)("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M5 12h14"}),(0,t.jsx)("path",{d:"m12 5 7 7-7 7"})]})}e.s(["default",()=>m],78928)}]);