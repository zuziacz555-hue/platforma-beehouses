(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42009,e=>{"use strict";let t=(0,e.i(75254).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>t],42009)},20383,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(4427);function l({onSuccess:e,initialData:l,onCancel:r}){let[d,i]=(0,s.useState)(l?.title||""),[n,o]=(0,s.useState)(l?.description||""),[c,m]=(0,s.useState)(l?.content||""),[x,u]=(0,s.useState)(l?.videoUrl||""),[h,b]=(0,s.useState)(l?.orderNumber||1),[p,f]=(0,s.useState)(""),j=async t=>{t.preventDefault();try{let t={title:d,description:n,content:c,videoUrl:x,orderNumber:h};l?await a.default.put(`/chapters/${l.id}`,t):await a.default.post("/chapters",t),e()}catch(e){f(e.response?.data?.message||"Data save failed")}};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-stone-200",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4 text-slate-800",children:l?"Edytuj Rozdział":"Dodaj Nowy Rozdział"}),p&&(0,t.jsx)("p",{className:"text-red-500 mb-2",children:p}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Tytuł"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Opis (krótki)"}),(0,t.jsx)("textarea",{value:n,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Treść (HTML/Text)"}),(0,t.jsx)("textarea",{value:c,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md h-32 focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Video URL (opcjonalnie)"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Numer porządkowy"}),(0,t.jsx)("input",{type:"number",value:h,onChange:e=>b(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{className:"flex space-x-2 justify-end",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Anuluj"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 font-medium",children:"Zapisz"})]})]})]})}var r=e.i(75254);let d=(0,r.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),i=(0,r.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),n=(0,r.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var o=e.i(34161);let c=(0,r.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),m=(0,r.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var x=e.i(42009);let u=(0,r.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var h=e.i(97815),b=e.i(18566);function p({onSuccess:e,onCancel:l}){let[r,d]=(0,s.useState)(""),[i,n]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[u,h]=(0,s.useState)("user"),[b,p]=(0,s.useState)(""),f=async t=>{t.preventDefault();try{await a.default.post("/users",{firstName:r,lastName:i,email:o,password:m,role:u}),e()}catch(e){p(e.response?.data?.message||"Failed to create user")}};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-stone-200",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4 text-slate-800",children:"Dodaj Nowego Użytkownika"}),b&&(0,t.jsx)("p",{className:"text-red-500 mb-2 text-sm",children:b}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Imię"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Nazwisko"}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),(0,t.jsx)("input",{type:"email",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Hasło"}),(0,t.jsx)("input",{type:"password",value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Rola"}),(0,t.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",children:[(0,t.jsx)("option",{value:"user",children:"Użytkownik"}),(0,t.jsx)("option",{value:"admin",children:"Administrator"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2 justify-end pt-2",children:[(0,t.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Anuluj"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 font-medium",children:"Dodaj Użytkownika"})]})]})]})}var f=e.i(32416);function j(){let{user:e,loading:r}=(0,h.useAuth)(),j=(0,b.useRouter)(),[v,N]=(0,s.useState)(null),[y,w]=(0,s.useState)([]),[k,z]=(0,s.useState)([]),[C,S]=(0,s.useState)(!1),[M,R]=(0,s.useState)(!1),[A,U]=(0,s.useState)(null),[D,q]=(0,s.useState)(null);(0,s.useEffect)(()=>{r||e&&"admin"===e.role?e?.role==="admin"&&T():j.push("/login")},[e,r,j]);let T=async()=>{try{let e=await a.default.get("/dashboard/stats");N(e.data);let t=await a.default.get("/chapters");w(t.data);let s=await a.default.get("/users");z(s.data)}catch(e){console.error(e)}},$=async e=>{confirm("Czy na pewno chcesz usunąć ten rozdział?")&&(await a.default.delete(`/chapters/${e}`),T())};return r||!e?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-stone-50",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):(0,t.jsxs)("div",{className:"space-y-12 pt-32 pb-24 px-6 max-w-7xl mx-auto animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 pb-8 border-b border-slate-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 tracking-tight",children:["Panel ",(0,t.jsx)("span",{className:"text-emerald-600",children:"Administratora"})]}),(0,t.jsx)("p",{className:"text-slate-500 mt-2 text-lg font-light",children:"Zarządzaj pasieką wiedzy i swoimi pszczelarzami."})]}),(0,t.jsx)("div",{className:"flex space-x-3",children:(0,t.jsxs)("div",{className:"bg-emerald-50 px-4 py-2 rounded-2xl border border-emerald-100 flex items-center text-emerald-700 font-semibold shadow-sm",children:[(0,t.jsx)(u,{className:"h-5 w-5 mr-2"}),"Administrator: ",e.firstName]})})]}),v&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,t.jsx)(g,{icon:(0,t.jsx)(c,{className:"h-8 w-8 text-blue-600"}),label:"Użytkownicy",value:v.totalUsers,gradient:"from-blue-500 to-blue-700"}),(0,t.jsx)(g,{icon:(0,t.jsx)(m,{className:"h-8 w-8 text-amber-600"}),label:"Rozdziały",value:v.totalChapters,gradient:"from-amber-500 to-amber-700"}),(0,t.jsx)(g,{icon:(0,t.jsx)(x.Award,{className:"h-8 w-8 text-emerald-600"}),label:"Certyfikaty",value:v.totalCertificates,gradient:"from-emerald-600 to-emerald-800"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[(0,t.jsx)(c,{className:"h-6 w-6 mr-3 text-emerald-600"}),"Zarządzanie Użytkownikami"]}),(0,t.jsxs)("button",{onClick:()=>R(!0),className:"bg-slate-900 hover:bg-emerald-600 text-white px-5 py-2.5 rounded-xl transition-all font-bold flex items-center shadow-lg transform hover:-translate-y-1",children:[(0,t.jsx)(n,{className:"h-5 w-5 mr-2"}),"Dodaj"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-stone-100 overflow-hidden",children:[M&&(0,t.jsx)("div",{className:"p-8 bg-emerald-50/50 border-b border-stone-100 animate-slide-down",children:(0,t.jsx)(p,{onSuccess:()=>{R(!1),T()},onCancel:()=>R(!1)})}),(0,t.jsx)("div",{className:"divide-y divide-stone-50 max-h-[600px] overflow-y-auto custom-scrollbar",children:k.map(e=>(0,t.jsxs)("div",{className:"p-6 flex justify-between items-center hover:bg-slate-50 transition-all group",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-700 rounded-full flex items-center justify-center font-bold text-lg shadow-inner",children:[e.firstName[0],e.lastName[0]]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-bold text-slate-800 group-hover:text-emerald-700 transition-colors uppercase tracking-tight",children:[e.firstName," ",e.lastName]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 group-hover:text-slate-600 transition-colors",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 text-[10px] rounded-full font-bold uppercase tracking-widest shadow-sm
                                            ${"admin"===e.role?"bg-purple-100 text-purple-700 border border-purple-200":"bg-slate-100 text-slate-500 border border-slate-200"}`,children:e.role}),(0,t.jsx)("button",{onClick:()=>q(e),className:"p-2.5 bg-slate-50 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded-xl transition-all shadow-inner group-hover:bg-amber-100/50",title:"Resetuj hasło",children:(0,t.jsx)(o.Key,{className:"h-5 w-5"})})]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[(0,t.jsx)(m,{className:"h-6 w-6 mr-3 text-amber-600"}),"Zarządzanie Rozdziałami"]}),(0,t.jsxs)("button",{onClick:()=>{U(null),S(!0)},className:"bg-amber-500 hover:bg-amber-600 text-white px-5 py-2.5 rounded-xl transition-all font-bold flex items-center shadow-lg transform hover:-translate-y-1",children:[(0,t.jsx)(n,{className:"h-5 w-5 mr-2"}),"Dodaj Rozdział"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-stone-100 overflow-hidden",children:[C&&(0,t.jsx)("div",{className:"p-8 bg-amber-50/50 border-b border-stone-100 animate-slide-down",children:(0,t.jsx)(l,{initialData:A,onSuccess:()=>{S(!1),T()},onCancel:()=>S(!1)})}),(0,t.jsxs)("div",{className:"divide-y divide-stone-50 max-h-[600px] overflow-y-auto custom-scrollbar",children:[y.map(e=>(0,t.jsxs)("div",{className:"p-6 flex flex-col md:flex-row justify-between items-start md:items-center hover:bg-slate-50 transition-all group",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,t.jsxs)("span",{className:"bg-amber-100 text-amber-700 text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider border border-amber-200 shadow-sm",children:["Rozdział ",e.orderNumber]}),(0,t.jsx)("h3",{className:"font-bold text-slate-800 group-hover:text-amber-700 transition-colors tracking-tight uppercase",children:e.title})]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 group-hover:text-slate-500 transition-colors line-clamp-1 italic",children:e.description})]}),(0,t.jsxs)("div",{className:"flex space-x-3 mt-4 md:mt-0",children:[(0,t.jsx)("button",{onClick:()=>{U(e),S(!0)},className:"p-2.5 bg-slate-50 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all shadow-inner group-hover:bg-blue-100/50",title:"Edytuj",children:(0,t.jsx)(d,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>$(e.id),className:"p-2.5 bg-slate-50 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all shadow-inner group-hover:bg-red-100/50",title:"Usuń",children:(0,t.jsx)(i,{className:"h-5 w-5"})})]})]},e.id)),0===y.length&&(0,t.jsxs)("div",{className:"p-16 text-center text-slate-400",children:[(0,t.jsx)("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-100",children:(0,t.jsx)(m,{className:"h-10 w-10 text-slate-200"})}),(0,t.jsx)("p",{className:"font-light italic",children:"Brak rozdziałów w pasiece wiedzy. Dodaj pierwszy!"})]})]})]})]})]}),D&&(0,t.jsx)(f.default,{userId:D.id,userName:`${D.firstName} ${D.lastName}`,isAdminReset:!0,onClose:()=>q(null)})]})}function g({icon:e,label:s,value:a,gradient:l}){return(0,t.jsxs)("div",{className:"group relative bg-white p-8 rounded-[2.5rem] shadow-xl border border-stone-100 transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${l} opacity-[0.03] rounded-bl-[4rem]`}),(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsx)("div",{className:`p-4 bg-gradient-to-br ${l} bg-opacity-10 rounded-2xl shadow-inner group-hover:scale-110 transition-transform duration-300`,children:(0,t.jsx)("div",{className:"text-white group-hover:brightness-110",children:e})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:s}),(0,t.jsx)("p",{className:"text-4xl font-black text-slate-800 tracking-tight mt-1",children:a})]})]})]})}e.s(["default",()=>j],20383)}]);