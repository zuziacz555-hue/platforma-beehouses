{"version":3,"sources":["../../../../app/login/page.tsx","../../../../node_modules/lucide-react/src/icons/leaf.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../utils/api';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Leaf } from 'lucide-react';\r\n\r\nexport default function LoginPage() {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isLogin, setIsLogin] = useState(true); // Toggle Login/Register\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const { login } = useAuth();\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        try {\r\n            if (isLogin) {\r\n                const res = await api.post('/auth/login', { email, password });\r\n                login(res.data.token, res.data.user);\r\n            } else {\r\n                const res = await api.post('/auth/register', {\r\n                    email,\r\n                    password,\r\n                    firstName,\r\n                    lastName\r\n                });\r\n                // Auto login after register? Or ask to login.\r\n                // Let's ask to login for simplicity or auto-login.\r\n                // For MVP, just auto-login if backend returns token? \r\n                // Backend register returns { message, userId }. No token.\r\n                // So prompt login.\r\n                setIsLogin(true);\r\n                setError('Konto utworzone! Zaloguj się.');\r\n            }\r\n        } catch (err: any) {\r\n            if (err.response) {\r\n                setError(err.response.data.message || 'Błąd logowania');\r\n            } else {\r\n                setError('Błąd połączenia z serwerem');\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex justify-center items-center min-h-screen pt-28 pb-12 px-6\">\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-stone-200\">\r\n                <div className=\"flex flex-col items-center mb-6\">\r\n                    <div className=\"bg-amber-100 p-3 rounded-full mb-3 shadow-inner\">\r\n                        <Leaf className=\"h-8 w-8 text-amber-600\" />\r\n                    </div>\r\n                    <h1 className=\"text-2xl font-bold text-slate-900\">\r\n                        {isLogin ? 'Witaj ponownie!' : 'Dołącz do nas'}\r\n                    </h1>\r\n                    <p className=\"text-slate-500 text-sm mt-1\">\r\n                        Platforma Edukacyjna BeeHouses\r\n                    </p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm text-center border border-red-100\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    {!isLogin && (\r\n                        <div className=\"grid grid-cols-2 gap-2\">\r\n                            <div>\r\n                                <label className=\"block text-xs uppercase tracking-wider font-semibold text-slate-500 mb-1\">Imię</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={firstName}\r\n                                    onChange={(e) => setFirstName(e.target.value)}\r\n                                    className=\"w-full px-4 py-2 rounded-lg border border-stone-300 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs uppercase tracking-wider font-semibold text-slate-500 mb-1\">Nazwisko</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={lastName}\r\n                                    onChange={(e) => setLastName(e.target.value)}\r\n                                    className=\"w-full px-4 py-2 rounded-lg border border-stone-300 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div>\r\n                        <label className=\"block text-xs uppercase tracking-wider font-semibold text-slate-500 mb-1\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            className=\"w-full px-4 py-2 rounded-lg border border-stone-300 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-xs uppercase tracking-wider font-semibold text-slate-500 mb-1\">Hasło</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full px-4 py-2 rounded-lg border border-stone-300 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full py-3 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5\"\r\n                    >\r\n                        {isLogin ? 'Zaloguj się' : 'Zarejestruj się'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div className=\"mt-8 text-center text-sm border-t border-stone-100 pt-6\">\r\n                    <span className=\"text-slate-500\">\r\n                        {isLogin ? 'Nie masz konta?' : 'Masz już konto?'}\r\n                    </span>\r\n                    <button\r\n                        onClick={() => { setIsLogin(!isLogin); setError(''); }}\r\n                        className=\"ml-2 text-amber-600 font-bold hover:text-amber-700 hover:underline\"\r\n                    >\r\n                        {isLogin ? 'Zarejestruj się' : 'Zaloguj się'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z',\n      key: 'nnexq3',\n    },\n  ],\n  ['path', { d: 'M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12', key: 'mt58a7' }],\n];\n\n/**\n * @component @name Leaf\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMjBBNyA3IDAgMCAxIDkuOCA2LjFDMTUuNSA1IDE3IDQuNDggMTkgMmMxIDIgMiA0LjE4IDIgOCAwIDUuNS00Ljc4IDEwLTEwIDEwWiIgLz4KICA8cGF0aCBkPSJNMiAyMWMwLTMgMS44NS01LjM2IDUuMDgtNkM5LjUgMTQuNTIgMTIgMTMgMTMgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/leaf\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Leaf = createLucideIcon('leaf', __iconNode);\n\nexport default Leaf;\n"],"names":[],"mappings":"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","ignoreList":[1]}