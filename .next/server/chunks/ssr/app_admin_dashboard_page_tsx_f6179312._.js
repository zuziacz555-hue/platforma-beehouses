module.exports=[26086,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(75320);function e({onSuccess:a,initialData:e,onCancel:f}){let[g,h]=(0,c.useState)(e?.title||""),[i,j]=(0,c.useState)(e?.description||""),[k,l]=(0,c.useState)(e?.content||""),[m,n]=(0,c.useState)(e?.videoUrl||""),[o,p]=(0,c.useState)(e?.orderNumber||1),[q,r]=(0,c.useState)(""),s=async b=>{b.preventDefault();try{let b={title:g,description:i,content:k,videoUrl:m,orderNumber:o};e?await d.default.put(`/chapters/${e.id}`,b):await d.default.post("/chapters",b),a()}catch(a){r(a.response?.data?.message||"Data save failed")}};return(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-stone-200",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4 text-slate-800",children:e?"Edytuj Rozdział":"Dodaj Nowy Rozdział"}),q&&(0,b.jsx)("p",{className:"text-red-500 mb-2",children:q}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Tytuł"}),(0,b.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Opis (krótki)"}),(0,b.jsx)("textarea",{value:i,onChange:a=>j(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Treść (HTML/Text)"}),(0,b.jsx)("textarea",{value:k,onChange:a=>l(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md h-32 focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Video URL (opcjonalnie)"}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>n(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Numer porządkowy"}),(0,b.jsx)("input",{type:"number",value:o,onChange:a=>p(parseInt(a.target.value)),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,b.jsxs)("div",{className:"flex space-x-2 justify-end",children:[(0,b.jsx)("button",{type:"button",onClick:f,className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Anuluj"}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 font-medium",children:"Zapisz"})]})]})]})}var f=a.i(70106);let g=(0,f.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),h=(0,f.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),i=(0,f.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var j=a.i(81402);let k=(0,f.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),l=(0,f.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var m=a.i(93518);let n=(0,f.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var o=a.i(53131),p=a.i(50944);function q({onSuccess:a,onCancel:e}){let[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)("user"),[p,q]=(0,c.useState)(""),r=async b=>{b.preventDefault();try{await d.default.post("/users",{firstName:f,lastName:h,email:j,password:l,role:n}),a()}catch(a){q(a.response?.data?.message||"Failed to create user")}};return(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-stone-200",children:[(0,b.jsx)("h3",{className:"text-xl font-bold mb-4 text-slate-800",children:"Dodaj Nowego Użytkownika"}),p&&(0,b.jsx)("p",{className:"text-red-500 mb-2 text-sm",children:p}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Imię"}),(0,b.jsx)("input",{type:"text",value:f,onChange:a=>g(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Nazwisko"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Email"}),(0,b.jsx)("input",{type:"email",value:j,onChange:a=>k(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Hasło"}),(0,b.jsx)("input",{type:"password",value:l,onChange:a=>m(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700",children:"Rola"}),(0,b.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-md focus:ring-2 focus:ring-amber-500 outline-none",children:[(0,b.jsx)("option",{value:"user",children:"Użytkownik"}),(0,b.jsx)("option",{value:"admin",children:"Administrator"})]})]}),(0,b.jsxs)("div",{className:"flex space-x-2 justify-end pt-2",children:[(0,b.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Anuluj"}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 font-medium",children:"Dodaj Użytkownika"})]})]})]})}var r=a.i(81509);function s(){let{user:a,loading:f}=(0,o.useAuth)(),s=(0,p.useRouter)(),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(null);(0,c.useEffect)(()=>{f||a&&"admin"===a.role?a?.role==="admin"&&I():s.push("/login")},[a,f,s]);let I=async()=>{try{let a=await d.default.get("/dashboard/stats");v(a.data);let b=await d.default.get("/chapters");x(b.data);let c=await d.default.get("/users");z(c.data)}catch(a){console.error(a)}},J=async a=>{confirm("Czy na pewno chcesz usunąć ten rozdział?")&&(await d.default.delete(`/chapters/${a}`),I())};return f||!a?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-stone-50",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):(0,b.jsxs)("div",{className:"space-y-12 pt-32 pb-24 px-6 max-w-7xl mx-auto animate-fade-in",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 pb-8 border-b border-slate-200",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 tracking-tight",children:["Panel ",(0,b.jsx)("span",{className:"text-emerald-600",children:"Administratora"})]}),(0,b.jsx)("p",{className:"text-slate-500 mt-2 text-lg font-light",children:"Zarządzaj pasieką wiedzy i swoimi pszczelarzami."})]}),(0,b.jsx)("div",{className:"flex space-x-3",children:(0,b.jsxs)("div",{className:"bg-emerald-50 px-4 py-2 rounded-2xl border border-emerald-100 flex items-center text-emerald-700 font-semibold shadow-sm",children:[(0,b.jsx)(n,{className:"h-5 w-5 mr-2"}),"Administrator: ",a.firstName]})})]}),u&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,b.jsx)(t,{icon:(0,b.jsx)(k,{className:"h-8 w-8 text-blue-600"}),label:"Użytkownicy",value:u.totalUsers,gradient:"from-blue-500 to-blue-700"}),(0,b.jsx)(t,{icon:(0,b.jsx)(l,{className:"h-8 w-8 text-amber-600"}),label:"Rozdziały",value:u.totalChapters,gradient:"from-amber-500 to-amber-700"}),(0,b.jsx)(t,{icon:(0,b.jsx)(m.Award,{className:"h-8 w-8 text-emerald-600"}),label:"Certyfikaty",value:u.totalCertificates,gradient:"from-emerald-600 to-emerald-800"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[(0,b.jsx)(k,{className:"h-6 w-6 mr-3 text-emerald-600"}),"Zarządzanie Użytkownikami"]}),(0,b.jsxs)("button",{onClick:()=>D(!0),className:"bg-slate-900 hover:bg-emerald-600 text-white px-5 py-2.5 rounded-xl transition-all font-bold flex items-center shadow-lg transform hover:-translate-y-1",children:[(0,b.jsx)(i,{className:"h-5 w-5 mr-2"}),"Dodaj"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-stone-100 overflow-hidden",children:[C&&(0,b.jsx)("div",{className:"p-8 bg-emerald-50/50 border-b border-stone-100 animate-slide-down",children:(0,b.jsx)(q,{onSuccess:()=>{D(!1),I()},onCancel:()=>D(!1)})}),(0,b.jsx)("div",{className:"divide-y divide-stone-50 max-h-[600px] overflow-y-auto custom-scrollbar",children:y.map(a=>(0,b.jsxs)("div",{className:"p-6 flex justify-between items-center hover:bg-slate-50 transition-all group",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-700 rounded-full flex items-center justify-center font-bold text-lg shadow-inner",children:[a.firstName[0],a.lastName[0]]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-bold text-slate-800 group-hover:text-emerald-700 transition-colors uppercase tracking-tight",children:[a.firstName," ",a.lastName]}),(0,b.jsx)("p",{className:"text-sm text-slate-400 group-hover:text-slate-600 transition-colors",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("span",{className:`px-3 py-1 text-[10px] rounded-full font-bold uppercase tracking-widest shadow-sm
                                            ${"admin"===a.role?"bg-purple-100 text-purple-700 border border-purple-200":"bg-slate-100 text-slate-500 border border-slate-200"}`,children:a.role}),(0,b.jsx)("button",{onClick:()=>H(a),className:"p-2.5 bg-slate-50 text-slate-400 hover:text-amber-600 hover:bg-amber-50 rounded-xl transition-all shadow-inner group-hover:bg-amber-100/50",title:"Resetuj hasło",children:(0,b.jsx)(j.Key,{className:"h-5 w-5"})})]})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center",children:[(0,b.jsx)(l,{className:"h-6 w-6 mr-3 text-amber-600"}),"Zarządzanie Rozdziałami"]}),(0,b.jsxs)("button",{onClick:()=>{F(null),B(!0)},className:"bg-amber-500 hover:bg-amber-600 text-white px-5 py-2.5 rounded-xl transition-all font-bold flex items-center shadow-lg transform hover:-translate-y-1",children:[(0,b.jsx)(i,{className:"h-5 w-5 mr-2"}),"Dodaj Rozdział"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-stone-100 overflow-hidden",children:[A&&(0,b.jsx)("div",{className:"p-8 bg-amber-50/50 border-b border-stone-100 animate-slide-down",children:(0,b.jsx)(e,{initialData:E,onSuccess:()=>{B(!1),I()},onCancel:()=>B(!1)})}),(0,b.jsxs)("div",{className:"divide-y divide-stone-50 max-h-[600px] overflow-y-auto custom-scrollbar",children:[w.map(a=>(0,b.jsxs)("div",{className:"p-6 flex flex-col md:flex-row justify-between items-start md:items-center hover:bg-slate-50 transition-all group",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,b.jsxs)("span",{className:"bg-amber-100 text-amber-700 text-[10px] px-2.5 py-1 rounded-full font-bold uppercase tracking-wider border border-amber-200 shadow-sm",children:["Rozdział ",a.orderNumber]}),(0,b.jsx)("h3",{className:"font-bold text-slate-800 group-hover:text-amber-700 transition-colors tracking-tight uppercase",children:a.title})]}),(0,b.jsx)("p",{className:"text-sm text-slate-400 group-hover:text-slate-500 transition-colors line-clamp-1 italic",children:a.description})]}),(0,b.jsxs)("div",{className:"flex space-x-3 mt-4 md:mt-0",children:[(0,b.jsx)("button",{onClick:()=>{F(a),B(!0)},className:"p-2.5 bg-slate-50 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all shadow-inner group-hover:bg-blue-100/50",title:"Edytuj",children:(0,b.jsx)(g,{className:"h-5 w-5"})}),(0,b.jsx)("button",{onClick:()=>J(a.id),className:"p-2.5 bg-slate-50 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all shadow-inner group-hover:bg-red-100/50",title:"Usuń",children:(0,b.jsx)(h,{className:"h-5 w-5"})})]})]},a.id)),0===w.length&&(0,b.jsxs)("div",{className:"p-16 text-center text-slate-400",children:[(0,b.jsx)("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 border border-slate-100",children:(0,b.jsx)(l,{className:"h-10 w-10 text-slate-200"})}),(0,b.jsx)("p",{className:"font-light italic",children:"Brak rozdziałów w pasiece wiedzy. Dodaj pierwszy!"})]})]})]})]})]}),G&&(0,b.jsx)(r.default,{userId:G.id,userName:`${G.firstName} ${G.lastName}`,isAdminReset:!0,onClose:()=>H(null)})]})}function t({icon:a,label:c,value:d,gradient:e}){return(0,b.jsxs)("div",{className:"group relative bg-white p-8 rounded-[2.5rem] shadow-xl border border-stone-100 transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${e} opacity-[0.03] rounded-bl-[4rem]`}),(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsx)("div",{className:`p-4 bg-gradient-to-br ${e} bg-opacity-10 rounded-2xl shadow-inner group-hover:scale-110 transition-transform duration-300`,children:(0,b.jsx)("div",{className:"text-white group-hover:brightness-110",children:a})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:c}),(0,b.jsx)("p",{className:"text-4xl font-black text-slate-800 tracking-tight mt-1",children:d})]})]})]})}a.s(["default",()=>s],26086)}];

//# sourceMappingURL=app_admin_dashboard_page_tsx_f6179312._.js.map